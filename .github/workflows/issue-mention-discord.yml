name: Issue í• ë‹¹ ë° ì‹œì‘
on:
  issues:
    types:
      - assigned

jobs:
  create-issue:
    name: ì´ìŠˆ ì‹œì‘ ë””ìŠ¤ì½”ë“œ ì•Œë¦¼
    runs-on: ubuntu-latest
    steps:
      - name: Set timezone to Korea
        uses: szenius/set-timezone@v2.0
        with:
          timezoneLinux: "Asia/Seoul"

      - name: í˜„ì¬ ì‹œê°„
        id: date
        run: echo "::set-output name=date::$(date +'%Y-%m-%dT%H:%M:00')"
        
      - name: ì•Œë¦¼ ì „ì†¡
        uses: Ilshidur/action-discord@0.3.2
        env:
          DISCORD_WEBHOOK: ${{ secrets.BACKEND_ISSUE_CHANNEL_WEBHOOK_URL }}
          DISCORD_USERNAME: íŠ¸ë˜ì»¤ ë„ìš°ë¯¸
          DISCORD_AVATAR: https://avatars.githubusercontent.com/u/204479047?s=48&v=4
          DISCORD_EMBEDS: |
            [
                { 
                  "title": "${{ github.event.issue.assignee.login }}ê°€ ì‘ì—…ì„ ì‹œì‘í–ˆìŠµë‹ˆë‹¤!ğŸ¥³",
                  "color": 10478271,
                  "description": "ë°”ë¡œê°€ê¸°: [#${{ github.event.issue.number }} ${{ github.event.issue.title }}](${{ github.event.issue.html_url }})",
                  "timestamp": "${{ steps.date.outputs.date }}"
                }
                ]
