name: Backend ë¦¬ë·°ìš”ì²­
on:
  pull_request:
    types:
      - ready_for_review
    branches:
      - main
      - develop

jobs:
  review-request:
    name: ë¦¬ë·° ìš”ì²­ ë””ìŠ¤ì½”ë“œ ì•Œë¦¼
    runs-on: ubuntu-latest 
    steps:
      - name: discord message
        uses: appleboy/discord-action@v1.2.0
        with:
          webhook_url: ${{ secrets.BACKEND_REVIEW_REQUEST_WEBHOOK_URL }}
          message: |
            <@&1354060709578805270>
            # ì–´ì´. ë¦¬ë·° ìš”ì²­ì´ ì™”ë‹¤ ðŸ’°
            ë‹¹ìž¥ ë¦¬ë·°í•˜ëŸ¬ ê°€ë„ë¡.

            ## PR ë°”ë¡œê°€ê¸° ë§í¬
            ### ðŸ”— [${{ github.event.pull_request.title }}](${{ github.event.pull_request.html_url }})

            ### ðŸ“¬ From.
            > ${{ github.event.pull_request.assignee.login }}
            > ${{ github.event.sender.avatar_url }}
            ${{ github.event.pull_request.html_url }}
    
      # - name: ì•Œë¦¼ ì „ì†¡
      #   uses: Ilshidur/action-discord@0.3.2
      #   env:
      #     DISCORD_WEBHOOK: ${{ secrets.BACKEND_REVIEW_REQUEST_WEBHOOK_URL }}
      #     DISCORD_USERNAME: íŠ¸ëž˜ì»¤ ë„ìš°ë¯¸
      #     DISCORD_AVATAR: https://avatars.githubusercontent.com/u/204479047?s=48&v=4
      #     DISCORD_EMBEDS: |
      #       [
      #           { 
      #             "title": "ë¦¬ë·° 'í•´ì¤˜'",
      #             "color": 10478271,
      #             "description": "ì´ê±° ë¦¬ë·° 'í•´' -> [${{ github.event.pull_request.title }}](${{ github.event.pull_request.html_url }})",
      #             "content": "ì•¼'í•´ì¤˜'",
      #             "fields": [
      #               {
      #                 "name": "ì§±ë©‹ì§€ê²Œ ìž‘ì—…í•œ ì‚¬ëžŒ",
      #                 "value": "${{ github.event.issue.user.login }}",
      #                 "inline": true
      #               }
      #             ]
      #           }
      #         ]
